<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>agiliq_blog - satchmo</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">agiliq_blog </a></h1>
                <nav><ul>
                    <li><a href="/category/html.html">html</a></li>
                    <li><a href="/category/markdown.html">markdown</a></li>
                    <li><a href="/category/rst.html">rst</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/create-your-own-online-store-in-few-hours-using-sa.html">Create your own online store in few hours using satchmo (django)</a></h1>
<footer class="post-info">
        <abbr class="published" title="2009-03-25T23:28:11+05:30">
                Published: Wed 25 March 2009
        </abbr>
		<br />
        <abbr class="modified" title="2009-03-26T09:58:11+05:30">
                Updated: Thu 26 March 2009
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/rama.html">rama</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/satchmo.html">satchmo</a> </p>
</footer><!-- /.post-info --><h2>What is satcmo?</h2>
<p>Satchmo is a django based framework which allows  you to  create an online store very quickly.
Satchmo also offers powerful customizations which allows you to tune a store to your specific business needs.</p>
<p>Sample Demo Store : <a href="http://www.xfgw.info/store">http://www.xfgw.info/store</a></p>
<h4>Login details</h4>
<ol>
<li>Use below mail and password to login into the site:  <br />
  Email : test@test.com
  password : welcome</li>
<li>Use dummy credit card number like 4222-2222-2222-2222 (VISA) to make any purchases.</li>
</ol>
<p>Above is the sample demo store which is being provided by satchmo outofbox just after installing it.</p>
<p>In this blog post we will discuss very basic things about satchmo like how to install satchmo? , and how to do various customizations ? etc......</p>
<h2>Installing satchmo</h2>
<p>Please note below </p>
<ol>
<li>Installation instructions are applicable to the latest version of satchmo  which is available in the trunk.</li>
<li>We assume that python setuptools has already been installed on your system.</li>
<li>You must have latest version of Django 1.1 beta.</li>
</ol>
<p>Just follow the below 5 steps to install various dependencies of satchmo.</p>
<div class="highlight"><pre><span></span>1) easy_install pycrypto
2) easy_install http://code.enthought.com/enstaller/eggs/rhel/3/Reportlab-2.1.0001-py2.5.egg
3) easy_install django-registration
4) easy_install http://tinyforge.org/frs/download.php/1/trml2pdf.tar.gz
5) easy_install PyYAML
</pre></div>


<h4>install django-threaded-multihost</h4>
<p>Go to  : http://banjo.assembla.com/spaces/threaded_multihost/documents. Download latest .tar.gz file and follow below steps</p>
<div class="highlight"><pre><span></span>8  tar xvzf django-threaded-multihost-1.3-0.tar.gz  
9) cd django-threaded-multihost-1.3-0 
10) python setup.py install
</pre></div>


<p>if you get any error as below</p>
<div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;setup.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="kn">import</span> <span class="nn">ez_setup</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">ez_setup</span>
</pre></div>


<h4>Fix the above error</h4>
<p>Open setup.py and comment out  the first two lines as shown below and repeat the step 10.</p>
<div class="highlight"><pre><span></span><span class="c1"># ez_setup.use_setuptools()</span>
<span class="c1"># from setuptools import setup, find_packages</span>
</pre></div>


<p>Next install django-app-plugins app by following below steps.</p>
<div class="highlight"><pre><span></span>11) svn checkout http://django-app-plugins.googlecode.com/svn/trunk/ django-app-plugins-read-only
12) cd /path/to/your/site-packages/dir (usually it is /usr/lib/python2.X/site-packages/)
13) ln -s /path/to/django-app-plugins-read-only/app_plugins  .
</pre></div>


<p>12) Installing an app means placing an app on  python path so that django can find it </p>
<h4>How do we do it?</h4>
<p>13) By convention any directory which is in  /usr/lib/python2.X/site-packages/ is on python path.Because of this we are creating a symlink from the sitepackges directory to the directory where we checkedout the latest version of django-app-plugins.Symlinking is more efficient that copying entire directory under sitepackages.</p>
<p>Install Sorl thumbnail app for generating thumbnails from images</p>
<div class="highlight"><pre><span></span>14) svn checkout http://sorl-thumbnail.googlecode.com/svn/trunk/sorl/
15) cd /path/to/your/site-packages/dir
16) ln -s /path/to/sorl  .
</pre></div>


<p>14,15,16  We followed similar approach as that of above  to install sorl-thumbnail application.</p>
<p>Optional dependencies </p>
<div class="highlight"><pre><span></span>17) easy_install elementtree
18) easy_install docutils
</pre></div>


<p>The above are all dependencies which are required for the satchmo.</p>
<h4>Now we will see how to create our own custom store using satchmo</h4>
<p>create new django project </p>
<div class="highlight"><pre><span></span>19) django-admin.py startproject customstore
</pre></div>


<p>check out the latest version of satchmo</p>
<div class="highlight"><pre><span></span>20)  svn co svn://satchmoproject.com/satchmo/trunk satchmo-trunk
</pre></div>


<p>Install satchmo</p>
<div class="highlight"><pre><span></span>21) cd satchmo-trunk
21) sudo python setup.py install
</pre></div>


<p>Make sure everything is working fine.</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">django</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">django</span><span class="o">.</span><span class="n">VERSION</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">satchmo_store</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">satchmo_store</span><span class="o">.</span><span class="n">VERSION</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">)</span>
</pre></div>


<p>Go to your project</p>
<div class="highlight"><pre><span></span>cd customstore
</pre></div>


<p>copy settings.py and localsetting.py from the sample project which is provided along with satchmo.</p>
<div class="highlight"><pre><span></span>cp  ......../satchmo-trunk/satchmo/projects/base/settings.py  ........../customstore/settings.py
cp  ......../satchmo-trunk/satchmo/projects/base/local_settings.py  ........../customstore/local_settings.py
</pre></div>


<h4>Edit customstore/settings.py</h4>
<ol>
<li>
<p>Change the Django_project name from 'satchmo'  to 'satchmo_store'.In previous versions project is called as "satchmo" but now it being called as "satchmo_store"</p>
</li>
<li>
<p>In installed apps if you find an app called "satchmo" rename it to "satchmo_store" .</p>
</li>
</ol>
<h4>Edit customstore/local_settings.py</h4>
<p>1.Uncomment DATEBASE_NAME,DATABASE_PASSWORD,DATABASE_USER and add corresponding details of your database</p>
<div class="highlight"><pre><span></span>DATABASE_NAME = &#39;satchmostore&#39; #Name of the database which you create.Please refer to an additional note for mysql users at the end
DATABASE_PASSWORD = &#39;welcome&#39;
DATABASE_USER = &#39;operations&#39;
</pre></div>


<p>The characters which are being transferred  from database server to client should be in UTF-8.if your database is MYSQL you need to add
the following in local_settings.py.</p>
<div class="highlight"><pre><span></span>DATABASE_OPTIONS = { &quot;init_command&quot;: &#39;SET NAMES &quot;utf8&quot;&#39; ,  &quot;init_command&quot;:&#39;SET storage_engine=INNODB&#39; , }
</pre></div>


<p>The above command also sets INNODB as storage engine for database tables. we need to use INNODB instead of ISAM to support transactions.
Uncomment SECRET_KEY and provide some value</p>
<div class="highlight"><pre><span></span>SECRET_KEY = &#39;asdf&#39;
</pre></div>


<p>if you are using MYSQL  please note that you need to create database in UTF-8 character set as follows</p>
<div class="highlight"><pre><span></span> create database satchmostore  CHARACTER SET UTF-8
</pre></div>


<h4>Edit urls.py</h4>
<p>Copy paste the below code in the urls.py</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">satchmo_store.urls</span> <span class="kn">import</span> <span class="n">urlpatterns</span>
</pre></div>


<p>if you have any other addtional urls you need to add at the end of urls.py as </p>
<div class="highlight"><pre><span></span>urlpatterns += patterns(&#39;&#39;,.......)
</pre></div>


<p>Copy over the static content</p>
<div class="highlight"><pre><span></span>22) python manage.py satchmo_copy_static
</pre></div>


<p>Check whether there are any errors in the configuration using.if there are any errors you need to resolve them before proceeding further.</p>
<div class="highlight"><pre><span></span>23) python manage.py satchmo_check
Checking your satchmo configuration.
Using Django version 1.1 alpha 1
Using Satchmo version 0.9-pre-SVN-unknown
Your configuration has no errors.
</pre></div>


<p>Syncdb and load intial data</p>
<div class="highlight"><pre><span></span>24) python manage.py syncdb
25) python manage.py satchmo_load_l10n
26) python manage.py satchmo_load_store
27) python manage.py satchmo_load_us_tax
</pre></div>


<p>Runserver</p>
<div class="highlight"><pre><span></span>28) python manage.py runserver
</pre></div>


<p>Your store is ready.</p>
<p>29) <a href="http://localhost:8000/store">http://localhost:8000/store</a></p>
<p>when you enter above URL you will be seeing a store and all the functionality which is being provided by satchmo out of box.</p>
<p>You can delete all the data which is provided by satchmo by running the below command</p>
<div class="highlight"><pre><span></span>30) python manage.py delete_all_dbs
</pre></div>


<p>You can see all the intial settings and configuration details at </p>
<p>31) <a href="http://localhost:8000/settings">http://localhost:8000/settings</a></p>
<p>YOu can see the admin interface by entering the below url</p>
<p>32) <a href="http://localhost:8000/admin">http://localhost:8000/admin</a></p>
<h2>Satchmo Customization:</h2>
<p>Satchmo has powerfull customization mechanism using which you can tune the store to suit your business needs.The below are basic customizations which you can 
do.Please refer to documentation for more complex customizations and features.</p>
<h4>To add new products and category etc</h4>
<p>You need to go to admin interface to add new categories,products,pricing,discounts,option groups,images etc.....</p>
<p>More information about this details at:
<a href="http://www.satchmoproject.com/docs/svn/product.html">http://www.satchmoproject.com/docs/svn/product.html</a></p>
<h4>Selling different product types</h4>
<p>Using satchmo you can also sell products such as Downloadable Product where customer downloads data/other information after paying amount,
you can also sell subscription product for which customers have to pay every month.</p>
<h4>Custom product types</h4>
<p>YOu can also create custom product types by following the below approach.
YOu need to create a model which participates in one-to-one relation ship with the default product model as below</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">ugettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="kn">from</span> <span class="nn">product.models</span> <span class="kn">import</span> <span class="n">Product</span>

<span class="k">class</span> <span class="nc">MyNewProduct</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;Product&#39;</span><span class="p">),</span>
    <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_get_subtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;MyNewProduct&#39;</span>

<span class="k">def</span> <span class="fm">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">u</span><span class="s2">&quot;MyNewProduct: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">name</span>

<span class="k">class</span> <span class="nc">Admin</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
    <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;My New Product&#39;</span><span class="p">)</span>
    <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;My New Products&#39;</span><span class="p">)</span>
</pre></div>


<ol>
<li>Thereafter you need tell satchmo about this product type in config.py,add to admin.py to make it visible via admin etc..More details you can find in the below link:
 <a href="http://www.satchmoproject.com/docs/svn/custom-product.html">http://www.satchmoproject.com/docs/svn/custom-product.html</a></li>
</ol>
<p>In addition to above you can do various other customizations like
 CSS,Template,URL,Checkout process,Shipping module  customization,Payment module.</p>
<p>More details at satchmo documentation <a href="http://www.satchmoproject.com/docs/svn/index.html">http://www.satchmoproject.com/docs/svn/index.html</a></p>
<p>And important details related to above customizations in the next blog post.        </p>
<p>Stay Tuned.</p>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>