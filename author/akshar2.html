<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>agiliq_blog - akshar</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">agiliq_blog </a></h1>
                <nav><ul>
                    <li><a href="/category/html.html">html</a></li>
                    <li><a href="/category/markdown.html">markdown</a></li>
                    <li><a href="/category/rst.html">rst</a></li>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="9">
            <li><article class="hentry">
                <header>
                    <h1><a href="/angularjs-injectors-internals.html" rel="bookmark"
                           title="Permalink to AngularJS injectors internals">AngularJS injectors internals</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-25T10:04:49+05:30">
                Published: Tue 25 April 2017
        </abbr>
		<br />
        <abbr class="modified" title="2017-04-25T20:34:49+05:30">
                Updated: Tue 25 April 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/angularjs.html">angularjs</a> </p>
</footer><!-- /.post-info -->                <p>Understanding AngularJS injector internals</p>
                <a class="readmore" href="/angularjs-injectors-internals.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/how-script-ordering-works-angular-app.html" rel="bookmark"
                           title="Permalink to How script ordering works in an Angular app">How script ordering works in an Angular app</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-21T11:02:17+05:30">
                Published: Fri 21 April 2017
        </abbr>
		<br />
        <abbr class="modified" title="2017-04-21T20:32:17+05:30">
                Updated: Fri 21 April 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/angularjs.html">angularjs</a> </p>
</footer><!-- /.post-info -->                <p>How script order affects an Angular app.</p>
                <a class="readmore" href="/how-script-ordering-works-angular-app.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/template-fragment-caching-gotchas.html" rel="bookmark"
                           title="Permalink to Template fragment caching gotchas">Template fragment caching gotchas</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-08-06T00:42:19+05:30">
                Published: Thu 06 August 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-08-06T11:12:19+05:30">
                Updated: Thu 06 August 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <h4>Variables in cached template fragment Assuming this is in template. {% cache 300 nums %} {% for i in nums %} <p>i</p> {% endfor %} {% endcache %} And assuming we send {'nums': range(100)} from context, then 0 to 99 will be sent in the response. Now suppose we change context to {'nums': range(1000)}, still for next 5 minutes i.e until the cache expires, 0 to 99 will be sent in the response. 0 to 999 will not be sent in the response. To fix this, we should use the variable too with the {% cache %} tag. So</h4>
                <a class="readmore" href="/template-fragment-caching-gotchas.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/retrying-celery-failed-tasks.html" rel="bookmark"
                           title="Permalink to Retrying celery failed tasks">Retrying celery failed tasks</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-08-03T00:23:19+05:30">
                Published: Mon 03 August 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-08-03T10:53:19+05:30">
                Updated: Mon 03 August 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/celery.html">celery</a> </p>
</footer><!-- /.post-info -->                <p>I assume you have a basic understanding of celery. If you want to learn about basics of celery, you can check our <a href="http://agiliq.com/blog/2015/07/getting-started-with-celery-and-redis/" target="_blank">last blog</a>. ### Use case In one of my projects, I work with Twitter api. I need to fetch a user's tweets. Twitter provides an api endpoint for fetching user's tweets. Fetching of tweets involve network calls and so should happen in background, so we fetch the tweets using a celery task. So I have a celery task which makes one api call to Twitter. If I am able to fetch the tweets I consider the</p>
                <a class="readmore" href="/retrying-celery-failed-tasks.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/profiling-django-middlewares.html" rel="bookmark"
                           title="Permalink to Profiling Django Middlewares">Profiling Django Middlewares</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-07-17T04:49:47+05:30">
                Published: Fri 17 July 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-07-17T15:19:47+05:30">
                Updated: Fri 17 July 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/middlewares.html">middlewares</a> </p>
</footer><!-- /.post-info -->                <p>I assume you have a basic understanding of Profiling, what it means and why we use it. ### Why this post Recently I had to profile a Django application which wasn't performing as fast as it should. This application had several custom middlewares too. So it was possible that custom middlewares were the cause of slow performance. There are some existing Django libraries to profile Django code. eg: Django Debug Toolbar, django-silk , django_cprofile etc. Most of them can profile view code well but they can't profile other middlewares. I wanted a way to profile middlewares too. ### Problem with</p>
                <a class="readmore" href="/profiling-django-middlewares.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/understanding-django-middlewares.html" rel="bookmark"
                           title="Permalink to Understanding Django Middlewares">Understanding Django Middlewares</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-07-17T03:56:11+05:30">
                Published: Fri 17 July 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-07-17T14:26:11+05:30">
                Updated: Fri 17 July 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/middlewares.html">middlewares</a> </p>
</footer><!-- /.post-info -->                <p>I assume you have read <a href="https://docs.djangoproject.com/en/1.8/topics/http/middleware/" target="_blank">official Django docs on middleware</a>. I will elaborate on things mentioned in the documentation but I assume you are familiar with middleware. In this post we will discuss the following. * What is a middleware * When to use middleware * Things to remember when writing middleware * Writing some middlewares to understand how order of middleware matters ### What is a middleware Middlewares are hooks to modify Django <strong>request</strong> or <strong>response</strong> object. Putting the definition of middleware from Django <a href="https://docs.djangoproject.com/en/1.8/topics/http/middleware/">docs</a>. Middleware is a framework of hooks into Django’s request/response processing. It’s a</p>
                <a class="readmore" href="/understanding-django-middlewares.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/getting-started-with-celery-and-redis.html" rel="bookmark"
                           title="Permalink to Getting started with Celery and Redis">Getting started with Celery and Redis</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-07-06T00:24:44+05:30">
                Published: Mon 06 July 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-07-06T10:54:44+05:30">
                Updated: Mon 06 July 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/redis.html">redis</a> </p>
</footer><!-- /.post-info -->                <p>Getting started with Celery and Redis ### Agenda * When to use Celery. * Why to use Celery. * A simple celery program. * Having a slow script and making it faster using celery. * Celery configuration and code in different files. * Using celery with tasks spanned across multiple modules * Using celery with a package. * Redis and celery on separate machine * Web-application/script and celery on separate machines. ### When to use Celery Celery is a task processing system. It is useful in a lot of web applications. It can be used in following scenarios. To do</p>
                <a class="readmore" href="/getting-started-with-celery-and-redis.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/tastypie-with-foreignkey.html" rel="bookmark"
                           title="Permalink to Tastypie with ForeignKey">Tastypie with ForeignKey</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-03-29T02:36:51+05:30">
                Published: Sun 29 March 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-03-29T13:06:51+05:30">
                Updated: Sun 29 March 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/django-tastypie.html">django-tastypie</a> </p>
</footer><!-- /.post-info -->                <p>This is a followup post on <a href="http://agiliq.com/blog/2015/03/getting-started-with-django-tastypie/" target="_blank">Getting started with tastypie</a>. We will use the same project setup as used in the last post. This post will cover: * Fetch ForeignKey data in GET calls * Create an object with ForeignKeys using POST calls ### Setup the application Let's add the capability to categorise the expenses Add a model called ExpenseCategory class ExpenseCategory(models.Model): name = models.CharField(max_length=100) description = models.TextField() Add a FK from Expense to ExpenseCategory class Expense(models.Model): description = models.CharField(max_length=100) amount = models.IntegerField() user = models.ForeignKey(User, null=True) category = models.ForeignKey(ExpenseCategory, null=True) There already exists some Expense in db</p>
                <a class="readmore" href="/tastypie-with-foreignkey.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/getting-started-with-redis-py.html" rel="bookmark"
                           title="Permalink to Getting started with redis-py">Getting started with redis-py</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-03-26T07:13:25+05:30">
                Published: Thu 26 March 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-03-26T17:43:25+05:30">
                Updated: Thu 26 March 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/redis.html">redis</a> </p>
</footer><!-- /.post-info -->                <p>This post explains how to interface with Redis from Python and how to use different Redis commands from Python using redis-py. What this post is not about * Comparing relational and non-relational database * Comparing MySQL and Redis * Introduction to Redis I assume you know the following * Basics of Redis * Basic redis commands for working with Strings, Lists and Maps as described at <a href="http://redis.io/topics/data-types-intro" target="_blank">Redis docs</a>. I did not find enough examples of using redis-py provided methods and so wrote this blog post. ### Getting started Assuming you have Redis installed and your redis server is</p>
                <a class="readmore" href="/getting-started-with-redis-py.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/getting-started-with-django-tastypie.html" rel="bookmark"
                           title="Permalink to Getting started with Django tastypie">Getting started with Django tastypie</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-03-23T07:10:53+05:30">
                Published: Mon 23 March 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-03-23T17:40:53+05:30">
                Updated: Mon 23 March 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/akshar.html">akshar</a>
        </address>
<p>In <a href="/category/markdown.html">markdown</a>.</p>
<p>tags: <a href="/tag/django-tastypie.html">django-tastypie</a> </p>
</footer><!-- /.post-info -->                <p>Django tastypie is a library to write RESTful apis in Django. ### Why use REST You have a database backed web application. This application tracks expenses. The application allows the capability to enter your expenses, view all your expenses, delete an expense etc. Essentially this application provides CRUD functionality. Django application has access to database credentials, but they are never seen by the users of the web application. Django application decides what to show to which user. Django application ensures that a particular user only sees the expenses entered by him and not somebody else's expenses. Now you want to</p>
                <a class="readmore" href="/getting-started-with-django-tastypie.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="/author/akshar.html">&laquo;</a>
    Page 2 / 5
        <a href="/author/akshar3.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>